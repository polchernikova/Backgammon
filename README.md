# Backgammon

## Правила

В данной работе рассмотрены длинные нарды и классические правила игры

У каждого игрока имеется 15 шашек.

У каждого игрока имеется своя пара игральных костей и специальный стакан, который используется для того, чтобы перемешать кости.

За один ход с головы можно взять только одну шашку (кроме первого броска, об этом позднее).
Игроки ходят по очереди.
Первый игрок изначально стоит на позиции 24 (все 15 шашек). Двигается 24 -> 23 -> ... -> 13 -> 12 -> ... -> 2 -> 1
Второй игрок изначально стоит на позиции 12 (все 15 шашек). Двигается 12 -> 11 -> ... -> 1 -> 24 -> 23 -> ... -> 14 -> 13
Начальное расположение шашек на доске (позиция 12 и 24) называется «голова». 

За один ход делается до четырёх передвижений шашки. 
В каждом из них игрок может передвинуть любую свою шашку на такое количество пунктов, которое выпало на одной из костей. 

Если на обеих костях выпадает одинаковое число очков, то выпавшие очки удваиваются, и игрок получает возможность сделать 4 перемещения. 
Каждое перемещение шашки должно делаться на полное количество очков, выпавшее на кости.
Если использовать очки одной из костей невозможно, они теряются. 

Если есть два варианта хода, один из которых использует очки только одной кости, а другой — обеих, то игрок обязан делать ход, использующий очки обеих костей.
Если можно передвинуть только одну из двух шашек (то есть ход одной шашки исключает возможность хода другой), игрок обязан сделать ход на большее количество пунктов.
В случае выпадения дубля игрок обязан использовать максимально возможное количество очков.

Когда все шашки игрока в процессе движения по доске попадают в свой дом, следующими ходами игрок может начать выставлять их за доску. 
Шашка может быть выставлена за доску, когда номер пункта, на котором она стоит, равен числу очков, выпавших на одной из костей. 
Если все шашки в доме находятся ближе к краю доски, чем выпавшее число очков, то может выставляться за доску шашка из пункта с наибольшим номером.

Запрещено выставлять блок (заграждение; мост) из шести шашек, если впереди этого блока нет шашки соперника. Не запрещено строить блоки из 6 шашек, однако все 15 шашек противника запереть нельзя. 
Вы имеете право выстроить заграждение из шести шашек только в том случае, если хотя бы одна шашка противника находится перед этим заграждением.

## Особенности реализации

Доска представляется в виде двумерного массива 2*12, позиции соответствуют реальности. 

Два игрока представляются числами: 1 и -1. 
Шашки первого игрока (1) представляются положительными числами, шашки второго - отрицательными.
Модуль числа на позиции соответствует количеству шашек на позиции, знак числа соответствует игроку, которому эти шашки принадлежат.
Таким образом, если на позиции стоит число -3 - это три шашки второго игрока.
Так как по правилам нард на одной позиции могут стоять шашки не более чем одного из игроков, 
такое представление доски обеспечивает однозначное представление шашек на ней.

Отображается доска в формате (позиции пронумерованы)

 1  2  3  4  5  6  7  8  9 10 11 12

24 23 22 21 20 19 18 17 16 15 14 13

26-ая позция - сброс 1-ого игрока
27-ая позиция - сброс 2-ого игрока

## Соответствие номеров и цветов игроков

Из-за того, что нумеровать игроков 1 и -1 было удобно для реализации правил, а нумерация 0 и 1 удобна для тренировки, 
в модуле `backgammon` используется первая нумерация (1 и -1), а в модулях `players`, `model` -- вторая (0 и 1). 
Соответствия между нумерациями, а также цветами, приведены в таблице:

| backgammon | player, model | цвет   | комментарий|
|------------|---------------|--------|------------|
| -1         | 0             | Белый  | стартовая позиция - 12 |
| 1          | 1             | Черный | стартовая позиция - 24 |
